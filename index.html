<!DOCTYPE html>
<!-- saved from url=(0043)http://localhost:21480/Admin/Plugins/QRCode -->
<html>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>二维码生成</title>
    <link type="text/css" href="./QRCode_files/bootstrap.min.css" rel="stylesheet">       
    <script src="http://www.jq22.com/jquery/jquery-1.10.2.js"></script>
    <script type="text/javascript">
    	
   		document.addEventListener('plusready', function(){
   			//console.log("所有plus api都应该在此事件发生后调用，否则会出现plus is undefined。"
   			
   		});
   		
    </script>
</head>
<body class="indexbody">
	<div class="container">
		<!--表单-->
		<div class="panel panel-sm">
			<div class="panel-heading clearfix">
				<label style="font-size: 24px;width:100%;text-align: center;"><i class="fa fa-bookmark"></i>小猪专用工具</label>
			</div>
			<form action="" class="form-horizontal panel-body" id="form1" method="post">
				
				<div class="tab-content" style="padding-top: 15px;margin-top: -15px;">
					<div role="tabpanel" class="tab-pane fade in active" id="pane1" aria-labelledby="tab1">
						<div class="form-group form-group-sm">
							<label class="control-label col-md-2">二维码内容</label>
							<div class="col-md-10">
								<textarea name="txtContent" id="txtContent" rows="2" class="form-control input-normal" placeholder="小猪小猪"></textarea>
							</div>
						</div>

						<div class="form-group form-group-sm">
							<label class="control-label col-md-2">二维码图像</label>
							<div class="col-md-10">
								<div id="qrcode" style="margin: 0 auto;"></div>
							</div>
						</div>
						
						<div class="form-group form-group-sm">
							<div class="col-md-10 col-md-offset-2">
								<p class="form-control-static text-danger" id="tips"></p>
							</div>
						</div>
					</div>
				</div>
				<hr class="sm">
				<div class="btn-footer">
					<button name="btnCreate" class="btn btn-success" type="button" onclick="f_onCreateQrcode();" title="将根据您填写的内容生成二维码图像">开始生成</button>
					<button name="btnClear" class="btn btn-default" type="button" onclick="f_onClearQrcode();" title="清除">清除</button>
				</div>
			</form>    
		</div>
	</div>
	<!--/主体内容-->

    <!-- Recommended Script Positioning -->
    <script src="./QRCode_files/modernizr-2.8.3.js" type="text/javascript"></script>
    <script src="./QRCode_files/bootstrap.min.js" type="text/javascript"></script>    
    <script type="text/javascript" src="./QRCode_files/qrcode.min.js"></script>
    <script type="text/javascript">
        //二维码内容
        var txtContent = document.getElementById("txtContent"), tips = $("#tips");

        // 设置 qrcode 参数
        var qrcode = new QRCode('qrcode', {
            text: '小猪小猪',
            width: 256,
            height: 256,
            colorDark: '#000000',
            colorLight: '#ffffff',
            correctLevel: QRCode.CorrectLevel.H
        });

        //生成二维码图像
        function f_onCreateQrcode() {
            if (!txtContent) {
                return false;
            } else {
                if (!txtContent.value) {
                     tips.html("！请填写<strong>二维码内容</strong>再提交生成");
                } else {
                    // 使用 API
                    qrcode.clear();
					tips.empty();
                    qrcode.makeCode(txtContent.value);
                }
                return false;
            }
        }

        //清除二维码内容
        function f_onClearQrcode() {
            if (txtContent) {
                txtContent.value = "小猪小猪";
                // 使用 API
                qrcode.clear();
                qrcode.makeCode('请输入二维码内容再生成图像');
            }
        }
    </script>
